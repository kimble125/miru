https://www.notion.so/doanybehappy/1-5-21c41c055f3680469a3cee4268ed32c2
# 프로젝트 작업 시작 1일차 ~ 5일차

prefix: `outliers-`

국회 API Key: 

일주일 프로젝트: 70만원

백엔드 & 데이터 & DevOps 엔지니어

# 1일차 요약

- 국회 OpenAPI 에서 데이터 불러와서 JSON 형태로 저장
- 스크립트 작성하여 국회 OpenAPI 에서 PDF 데이터 저장 자동화
- JSON 형태로 저장한 데이터를 Azure SQL Database에 적재

- 향후(다음날) 진행사항 : 데이터베이스 정규화, Azure SQL Database에 적재한 데이터를 Data Factory 파이프라인에서 정제

Entra ID

SQL Database 서버

outliers_admin

ZBofe3XjbLeVpr7HfPah

cf. 1password password generator

[A Secure, Strong Password Generator | 1Password](https://1password.com/password-generator)

Entra ID 생성

→ 옵션: 프로비전됨, 서버리스
→ 서버리스 선택


네트워크 설정
→ 모두 접근할 수 있도록

국회의원 위원회 출결현황 PDF (137).zip
const elements = Array.from(document.querySelectorAll('.linkA')); // 배열로 복사
const delay = 1000; // 각 클릭 사이 딜레이 (ms)

function clickSequentially(index = 0) {
  if (index >= elements.length) return;

  const el = elements[index];
  if (!document.body.contains(el)) {
    console.log(`Element ${index} is no longer in the DOM. Skipping.`);
    setTimeout(() => clickSequentially(index + 1), delay);
    return;
  }

  console.log(`Clicking element ${index + 1} of ${elements.length}`);
  if (typeof el.click === 'function') {
    el.click();
  } else {
    const event = new MouseEvent('click', {
      bubbles: true,
      cancelable: true,
      view: window
    });
    el.dispatchEvent(event);
  }

  setTimeout(() => clickSequentially(index + 1), delay);
}

ERD
json
다음 4개 API 에 대해 pIndex를 하나씩 늘려가면서 JSON을 받아오고 그 JSON 을 하나로 취합해줘. 내가 원하는 1개 API에 대해 1개의 통합된 JSON 파일이 생성되는 거야.

국회의원 정보 통합 API
https://open.assembly.go.kr/portal/openapi/ALLNAMEMBER?KEY=84d2bb829a0d413b97da6e9d2809db9e&Type=json&pIndex=1&pSize=1000

역대 국회의원 현황 API
https://open.assembly.go.kr/portal/openapi/nprlapfmaufmqytet?KEY=84d2bb829a0d413b97da6e9d2809db9e&Type=json&pIndex=1&pSize=1000&DAESU=21

국회의원 인적사항 API
https://open.assembly.go.kr/portal/openapi/nwvrqwxyaytdsfvhu?KEY=84d2bb829a0d413b97da6e9d2809db9e&Type=json&pIndex=1&pSize=1000

국회의원 발의법률안 API
https://open.assembly.go.kr/portal/openapi/nzmimeepazxkubdpn?KEY=84d2bb829a0d413b97da6e9d2809db9e&Type=json&pIndex=20&pSize=1000&AGE=21
​
nprlapfmaufmqytet API 에 대해서는 DAESU 를 10에서 22까지 늘려가며 해줘 각 DAESU 하나에 대해 1개 

```jsx
nzmimeepazxkubdpn API 에 대해서는 AGE 를 10에서 22까지 늘려가며 해줘 각 AGE 하나에 대해 1개 JSON을 생성해줘
```

db
```jsx
.env 파일에서 DB_USERNAME, DB_PASSWORD 를 읽어서 Azure SQL Database 에 연결하고 json 데이터를 불러와서 db 에 적재하는 코드를 작성해줘.
데이터를 불러올 json 파일은 assembly_ 로 시작하는 파일 모두야.
테이블은 4개로 나눠줘. assembly_biils, assembly_members, assembly_members_integrated, assembly_members_profile 그리고 할 수 있다면 assembly_members와 assembly_members_profile 을 HG_NM과 NAAS_NM 으로 join 해서 1개 테이블을 더 추가해줘.
```


3D1Z5S2A5Z7
result.BILL_ID PRC_S1Q8I1S2P1Z0S1E6O3U7S3Y9A4W8Y5
result.BILL_ID PRC_V1L8E1V2O0Q6S1A7A1P7U4U6Q6J2F7
result.BILL_ID PRC_C1R8Q1M2Y0G6L1I5N5T7Y4R5Z7Z7R2
result.BILL_ID PRC_X1V8P1G2K0M6Y1O4G4U6Z3Q6C2V7Y4
result.BILL_ID PRC_K1U8J1H2I0D6G1K4K1P9A2L2M2V2S6
result.BILL_ID PRC_G1K8Z1R2Q0J3X1M7A2Z0T4P5E6A7J5
result.BILL_ID PRC_C1K8R1X2S0W3W1V7A1T7S5Z1U9B1M2
result.BILL_ID PRC_K1W8F1K1N3L0X1S6F0L1U1D4Z9F1C3
result.BILL_ID PRC_L1P8Q1R1H3Z0S1T1U4N5M1R8H1X1B6
result.BILL_ID PRC_E1O8X1K1S3Y0B1I1E2G3T5P9U4H7U2